# Nimura_SubSystems 要件定義書

## 1. プロジェクト概要

### 1.1 背景
金属加工業の既存管理システム（製品マスタ、製造工程、梱包、出荷、売上、財務等）を補完するWebシステムを構築する。

### 1.2 目的
製造現場での検査作業を支援するため、製作手配書のバーコードから製品情報を読み取り、該当製品の写真をモバイル端末で確認できるシステムを提供する。

## 2. システム要件

### 2.1 機能要件

#### 2.1.1 基本機能
1. **バーコード読み取り機能**
   - 製作手配書に印刷されたバーコードをカメラで読み取る
   - バーコード情報から製品コードを特定する（詳細仕様は別途定義）

2. **製品写真表示機能**
   - 製品コードから既存データベースの「T_製品写真サブ」テーブルを参照
   - 画像パス情報を取得し、該当するJPGファイルを表示
   - ネットワークドライブ上の画像ファイルにアクセス

3. **モバイル対応**
   - タブレット、スマートフォンでの利用を前提とした画面設計
   - レスポンシブデザインによる各種画面サイズへの対応

### 2.2 非機能要件

#### 2.2.1 性能要件
- 利用者数：20～30人（同時接続）
- レスポンス：画像表示まで3秒以内を目標

#### 2.2.2 拡張性要件
- 将来的な機能追加を考慮したアーキテクチャ
- 既存システムのWeb化を視野に入れた設計

#### 2.2.3 セキュリティ要件
- ネットワークドライブへの適切なアクセス制御
- 認証機能（第2フェーズで実装予定）

## 3. システム構成

### 3.1 技術スタック
- **バックエンド**: Python + Django
- **API**: Django REST Framework（段階的導入）
- **フロントエンド**: 
  - 初期：Djangoテンプレート + JavaScript
  - 将来：Vue.js または React（SPA化）
- **データベース**: 既存システムのDBを参照（読み取り専用）

### 3.2 システムフロー
1. バーコード読み取り → 製品コード取得
2. 製品コード → T_製品写真サブテーブル参照
3. 画像パス取得 → JPGファイル表示

### 3.3 データ連携
- **既存データベースとの連携**
  - T_製品写真サブテーブルへの読み取り専用アクセス
  - テーブル構造：
    - 製品コード（製品を特定するキー）
    - 写真パス（ネットワークドライブ上のファイルパス）

- **画像ファイルアクセス**
  - ネットワークドライブ上の共有フォルダに保存された画像ファイル
  - Djangoサーバーがプロキシとして画像を配信
  - ブラウザへの画像配信はHTTP経由

## 4. 開発方針

### 4.1 段階的な開発アプローチ
1. **第1フェーズ（MVP）**
   - バーコード読み取りと画像表示の基本機能
   - Djangoテンプレートベースのシンプルな実装

2. **第2フェーズ**
   - API化の推進
   - 認証機能の追加
   - UI/UXの改善

3. **第3フェーズ**
   - フロントエンドのSPA化
   - 既存システムの他機能のWeb化検討

### 4.2 開発上の考慮事項
- モバイルファーストの設計
- 工場現場での使いやすさを重視
- 既存システムへの影響を最小限に抑える

## 5. 今後の検討事項

### 5.1 詳細仕様の確定が必要な項目
- バーコード情報から製品コードへの変換ロジック
- 既存データベースへの接続情報
- ネットワークドライブのパス構成
- ユーザー認証方式

### 5.2 将来的な機能拡張案
- 検査結果の記録機能
- 複数画像の切り替え表示
- オフライン対応
- 作業履歴の記録

## 6. プロジェクト情報

- **プロジェクト名**: Nimura_SubSystems
- **初期リリース目標**: 製品写真確認機能
- **開発言語**: Python
- **フレームワーク**: Django

---

作成日: 2025-08-06
バージョン: 1.0